"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7026,3380],{14607:function(e,n,i){i.d(n,{Z:function(){return d}});var t=i(85893),l=i(45697),r=i.n(l),o=i(26447),s=i(15861),a=i(82736);function d(e){let{title:n,description:i,img:l,sx:r,...d}=e;return(0,t.jsxs)(o.Z,{alignItems:"center",justifyContent:"center",sx:{height:1,textAlign:"center",p:e=>e.spacing(8,2),...r},...d,children:[(0,t.jsx)(a.Z,{disabledEffect:!0,alt:"empty content",src:l||"/assets/illustrations/illustration_empty_content.svg",sx:{height:240,mb:3}}),(0,t.jsx)(s.Z,{variant:"h5",gutterBottom:!0,children:n}),i&&(0,t.jsx)(s.Z,{variant:"body2",sx:{color:"text.secondary"},children:i})]})}d.propTypes={sx:r().object,img:r().string,title:r().string,description:r().string}},82736:function(e,n,i){i.d(n,{Z:function(){return c}});var t=i(85893),l=i(45697),r=i.n(l),o=i(67294),s=i(72679),a=i(87357);let d=(0,o.forwardRef)((e,n)=>{let{ratio:i,disabledEffect:l=!1,effect:r="blur",sx:o,...d}=e,c=(0,t.jsx)(a.Z,{component:s.LazyLoadImage,wrapperClassName:"wrapper",effect:l?void 0:r,placeholderSrc:l?"/assets/transparent.png":"/assets/placeholder.svg",sx:{width:1,height:1,objectFit:"cover"},...d});return i?(0,t.jsx)(a.Z,{ref:n,component:"span",sx:{width:1,lineHeight:1,display:"block",overflow:"hidden",position:"relative",pt:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1/1";return({"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"})[e]}(i),"& .wrapper":{top:0,left:0,width:1,height:1,position:"absolute",backgroundSize:"cover !important"},...o},children:c}):(0,t.jsx)(a.Z,{ref:n,component:"span",sx:{lineHeight:1,display:"block",overflow:"hidden",position:"relative","& .wrapper":{width:1,height:1,backgroundSize:"cover !important"},...o},children:c})});d.propTypes={sx:r().object,effect:r().string,disabledEffect:r().bool,ratio:r().oneOf(["4/3","3/4","6/4","4/6","16/9","9/16","21/9","9/21","1/1"])};var c=d},78391:function(e,n,i){i.d(n,{Z:function(){return h}});var t=i(85893),l=i(45697),r=i.n(l),o=i(53184),s=i(53816),a=i(53252),d=i(69368),c=i(26280),u=i(87357);let p={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function h(e){let{order:n,orderBy:i,rowCount:l=0,headLabel:r,numSelected:h=0,onSort:x,onSelectAllRows:g,sx:v}=e;return(0,t.jsx)(o.Z,{sx:v,children:(0,t.jsxs)(s.Z,{children:[g&&(0,t.jsx)(a.Z,{padding:"checkbox",children:(0,t.jsx)(d.Z,{indeterminate:h>0&&h<l,checked:l>0&&h===l,onChange:e=>g(e.target.checked)})}),r.map(e=>(0,t.jsx)(a.Z,{align:e.align||"left",sortDirection:i===e.id&&n,sx:{width:e.width,minWidth:e.minWidth},children:x?(0,t.jsxs)(c.Z,{hideSortIcon:!0,active:i===e.id,direction:i===e.id?n:"asc",onClick:()=>x(e.id),sx:{textTransform:"capitalize"},children:[e.label,i===e.id?(0,t.jsx)(u.Z,{sx:{...p},children:"desc"===n?"sorted descending":"sorted ascending"}):null]}):e.label},e.id))]})})}h.propTypes={sx:r().object,onSort:r().func,orderBy:r().string,headLabel:r().array,rowCount:r().number,numSelected:r().number,onSelectAllRows:r().func,order:r().oneOf(["asc","desc"])}},25853:function(e,n,i){i.r(n),i.d(n,{SelectCategoryComponent:function(){return K}});var t=i(82729),l=i(85893),r=i(93946),o=i(83321),s=i(86886),a=i(66242),d=i(26447),c=i(15861),u=i(50480),p=i(69368),h=i(50135),x=i(94054),g=i(33841),v=i(57709),m=i(87109),_=i(153),j=i(18972),f=i(91440),b=i(11163),Z=i(67294),y=i(65631),w=i(50689),C=i(82367),k=i(11466),F=i(1954),S=i(17543),z=i(50066),P=i(19755),R=i.n(P),O=i(84475),G=i(52443),A=i(13380),W=i(96486),L=i.n(W),I=i(7295),D=i(20273),X=i(49824),E=i(19358);function N(){let e=(0,t._)(["\ndisplay:flex;\nflex-direction:column;\nborder-radius: 8px;\n"]);return N=function(){return e},e}function M(){let e=(0,t._)(["\nheight:200px;\noverflow-y:auto;\nwidth:200px;\n"]);return M=function(){return e},e}function T(){let e=(0,t._)(["\nbackground:",";\npadding:0.5rem 1rem;\nborder-top-right-radius: 8px;\nborder-top-left-radius: 8px;\n"]);return T=function(){return e},e}function J(){let e=(0,t._)(["\npadding:0.5rem 1rem;\ndisplay:flex;\njustify-content:space-between;\ncursor:pointer;\n&:hover{\n  background:",";\n}\n"]);return J=function(){return e},e}let q=z.ZP.div(N()),U=z.ZP.div(M()),B=z.ZP.div(T(),y.af.grey[200]),$=z.ZP.div(J(),e=>e.hoverColor),K=e=>{let{curCategories:n,categories:i,categoryChildrenList:t,onClickCategory:r,noneSelectText:o,sort_idx:s}=e,a=(0,G.u)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(q,{style:{border:"1px solid ".concat("dark"==a.palette.mode?y.af.grey[700]:y.af.grey[300])},children:[(0,l.jsx)(B,{style:{background:"".concat("dark"==a.palette.mode?"#919eab29":""),borderBottom:"1px solid ".concat("dark"==a.palette.mode?y.af.grey[700]:y.af.grey[300])},children:n.length>0?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(y.X2,{children:n.map((e,i)=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{marginRight:"0.25rem"},children:e.category_name}),i!=n.length-1&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{style:{marginRight:"0.25rem"},children:">"})})]}))})}):(0,l.jsx)(l.Fragment,{children:o})}),(0,l.jsxs)("div",{style:{overflowX:"auto",width:"100%",display:"-webkit-box"},className:"category-container-".concat(s),children:[(0,l.jsx)(U,{children:i.map((e,i)=>{var t;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)($,{hoverColor:(null===(t=a.palette)||void 0===t?void 0:t.mode)=="dark"?y.af.grey[700]:y.af.grey[200],style:{color:"".concat(n.map(e=>null==e?void 0:e.id).includes(null==e?void 0:e.id)?"":y.af.grey[500]),fontWeight:"".concat(n.map(e=>null==e?void 0:e.id).includes(null==e?void 0:e.id)?"bold":"")},onClick:()=>{r(e,0,s)},children:[(0,l.jsx)("div",{children:e.category_name}),(0,l.jsx)("div",{children:(null==e?void 0:e.children)&&(null==e?void 0:e.children.length)>0?">":""})]})})})}),t.map((e,i)=>(0,l.jsx)(l.Fragment,{children:e.length>0&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(U,{children:e.map((e,t)=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)($,{style:{color:"".concat(n.map(e=>null==e?void 0:e.id).includes(null==e?void 0:e.id)?"":y.af.grey[500]),fontWeight:"".concat(n.map(e=>null==e?void 0:e.id).includes(null==e?void 0:e.id)?"bold":"")},onClick:()=>{r(e,i+1,s)},children:[(0,l.jsx)("div",{children:e.category_name}),(0,l.jsx)("div",{children:(null==e?void 0:e.children)&&(null==e?void 0:e.children.length)>0?">":""})]})}))})})}))]})]})})},H=()=>{var e,n,i,t,k,z,P,G;let{user:W}=(0,E.E)(),{setModal:N}=(0,I.d)(),{themeCategoryList:M,themeDnsData:T,themePropertyList:J}=(0,w.K$)(),q=[{id:"user_name",label:"작성자아이디",action:e=>{var n;return null!==(n=e.user_name)&&void 0!==n?n:"---"}},{id:"nickname",label:"작성자닉네임",action:e=>{var n;return null!==(n=e.nickname)&&void 0!==n?n:"---"}},{id:"title",label:"제목",action:e=>(0,S.D9)(e.title)},{id:"status",label:"상태",action:e=>{var n;return null!==(n=e.status)&&void 0!==n?n:"---"}},{id:"created_at",label:"생성시간",action:e=>{var n;return null!==(n=e.created_at)&&void 0!==n?n:"---"}},{id:"updated_at",label:"최종수정시간",action:e=>{var n;return null!==(n=e.updated_at)&&void 0!==n?n:"---"}},{id:"edit",label:"수정/삭제",action:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.Z,{children:(0,l.jsx)(F.JO,{icon:"material-symbols:edit-outline",onClick:()=>{es(e),ed(!0)}})}),(0,l.jsx)(r.Z,{onClick:()=>{N({func:async()=>{await (0,X.fp)("product-reviews","delete",{id:null==e?void 0:e.id})&&(ed(!1),es({}),ex(ec))},icon:"material-symbols:delete-outline",title:"정말 삭제하시겠습니까?"})},children:(0,l.jsx)(F.JO,{icon:"material-symbols:delete-outline"})})]})}],U=(0,b.useRouter)(),[B,$]=(0,Z.useState)(!0),[H,V]=(0,Z.useState)(0),[Q,Y]=(0,Z.useState)({}),[ee,en]=(0,Z.useState)({}),[ei,et]=(0,Z.useState)({category_ids:[],product_name:"",product_code:"",product_comment:"",product_price:0,product_sale_price:0,product_type:0,product_description:"",consignment_user_name:"",consignment_none_user_name:"",consignment_none_user_phone_num:"",consignment_fee:0,consignment_fee_type:0,product_file:void 0,sub_images:[],groups:[],characters:[],properties:{}}),[el,er]=(0,Z.useState)({}),[eo,es]=(0,Z.useState)({}),[ea,ed]=(0,Z.useState)(!1),[ec,eu]=(0,Z.useState)({page:1,page_size:10,s_dt:"",e_dt:"",search:"",product_id:""}),[ep,eh]=(0,Z.useState)([]);(0,Z.useEffect)(()=>{eg()},[]),(0,Z.useEffect)(()=>{2==H&&ex({...ec,product_id:null==ei?void 0:ei.id})},[H]);let ex=async e=>{er({...el,content:void 0});let n=await (0,X.fp)("product-reviews","list",e);n&&er(n),eu(e)},eg=async()=>{var e;if(eh(q),(null===(e=U.query)||void 0===e?void 0:e.edit_category)=="edit"){V(null!==(l=null===(i=U.query)||void 0===i?void 0:i.type)&&void 0!==l?l:0);let e=await (0,X.fp)("products","get",{id:U.query.id});e=Object.assign(ei,e);let c={};for(var n=0;n<(null==e?void 0:null===(t=e.properties)||void 0===t?void 0:t.length);n++)c[null===(r=e.properties[n])||void 0===r?void 0:r.property_group_id]||(c[e.properties[n].property_group_id]=[]),c[e.properties[n].property_group_id].push(e.properties[n].property_id);e.properties=c,et(e);let u={},p={};for(var n=0;n<M.length;n++){let c=(0,S.XG)(null===(o=M[n])||void 0===o?void 0:o.product_categories),h=[];for(var i,t,l,r,o,s,a,d=0;d<c.length;d++)if((null===(s=c[d][c[d].length-1])||void 0===s?void 0:s.id)==e["category_id".concat(n)]){h=c[d];break}u[n]=h;let x=[];for(var d=0;d<h.length;d++)x.push(null===(a=h[d])||void 0===a?void 0:a.children);p[n]=x}Y(u),en(p)}$(!1)},ev=e=>{let n=[...ei.sub_images];for(var i=0;i<e.length;i++)n.push({product_sub_file:Object.assign(e[i],{preview:URL.createObjectURL(e[i])})});et({...ei,sub_images:n})},em=e=>{let n=[...ei.sub_images],i=L().findIndex(n.map(e=>e.product_sub_file),{path:e.path,preview:e.preview});if(i<0)for(var t,l,r=0;r<n.length;r++)(null===(l=n[r])||void 0===l?void 0:l.product_sub_img)==e&&(i=r);i>=0&&((null===(t=n[i])||void 0===t?void 0:t.id)?n[i].is_delete=1:n.splice(i,1),et({...ei,sub_images:n}))},e_=()=>{let e=[...ei.sub_images];e=[],et({...ei,sub_images:e})},ej=(e,n,i)=>{let t=(0,S.XG)(null===(r=M[i])||void 0===r?void 0:r.product_categories),l=[];for(var r,o,s,a=0;a<t.length;a++)if((null===(o=t[a][n])||void 0===o?void 0:o.id)==(null==e?void 0:e.id)){l=t[a];break}Y({...Q,[i]:l});let d=[];for(var a=0;a<l.length;a++)d.push(null===(s=l[a])||void 0===s?void 0:s.children);en({...ee,[i]:d}),R()(".category-container-".concat(i)).scrollLeft(1e5)},ef=async()=>{let e={};for(var n,i,t,l,r,o,s,a,d,c,u,p,h=0;h<M.length;h++)if(Q[h])e["category_id".concat(h)]=null===(i=Q[h][Q[h].length-1])||void 0===i?void 0:i.id;else{O.Am.error("".concat(null===(n=M[h])||void 0===n?void 0:n.category_group_name,"를 선택해 주세요."));return}for(var h=0;h<J.length;h++)if(!((null===(t=null!==(r=ei.properties[null===(l=J[h])||void 0===l?void 0:l.id])&&void 0!==r?r:[])||void 0===t?void 0:t.length)>0)){O.Am.error("".concat(null===(o=J[h])||void 0===o?void 0:o.property_group_name,"를 선택해 주세요."));return}let x=[],g=[];for(var h=0;h<ei.sub_images.length;h++)(null===(s=ei.sub_images[h])||void 0===s?void 0:s.product_sub_file)&&g.push({image:null===(a=ei.sub_images[h])||void 0===a?void 0:a.product_sub_file});g=await (0,X.eV)({images:g});let v=0;for(var h=0;h<ei.sub_images.length;h++)(null===(d=ei.sub_images[h])||void 0===d?void 0:d.product_sub_file)?(x.push({product_sub_img:null===(c=g[v])||void 0===c?void 0:c.url}),v++):x.push(ei.sub_images[h]);for(var h=0;h<ei.groups.length;h++)if(1!=ei.groups[h].is_delete&&(null!==(p=null===(u=ei.groups[h])||void 0===u?void 0:u.options)&&void 0!==p?p:[]).filter(e=>isNaN(parseInt(null==e?void 0:e.option_price))).length>0){O.Am.error("옵션 변동가는 필수 입니다.");return}((null==ei?void 0:ei.id)?await (0,X.fp)("products","update",{...ei,id:null==ei?void 0:ei.id,...e,sub_images:x,properties:JSON.stringify(ei.properties)}):await (0,X.fp)("products","create",{...ei,...e,sub_images:x,user_id:null==W?void 0:W.id,properties:JSON.stringify(ei.properties)}))&&(O.Am.success("성공적으로 저장 되었습니다."),window.location.href="/manager/products/list")},eb=async()=>{eo.product_id=null==ei?void 0:ei.id,eo.user_id=null==W?void 0:W.id,((null==eo?void 0:eo.id)?await (0,X.fp)("product-reviews","update",{...eo}):await (0,X.fp)("product-reviews","create",{...eo}))&&(O.Am.success("성공적으로 저장 되었습니다."),es({}),ed(!1),ex({...ec,page:1}))},eZ=[{value:0,label:"상품정보"},...(null==T?void 0:null===(e=T.setting_obj)||void 0===e?void 0:e.is_use_consignment)==1?[{value:1,label:"위탁정보"}]:[],...(null===(n=U.query)||void 0===n?void 0:n.edit_category)=="edit"?[{value:2,label:"상품리뷰 관리"}]:[]];return(0,l.jsx)(l.Fragment,{children:!B&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.X2,{style:{margin:"0 0 1rem 0",columnGap:"0.5rem"},children:eZ.map(e=>(0,l.jsx)(o.Z,{variant:e.value==H?"contained":"outlined",onClick:()=>{V(e.value)},children:e.label}))}),(0,l.jsxs)(s.ZP,{container:!0,spacing:3,children:[0==H&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(a.Z,{sx:{p:2,height:"100%"},children:(0,l.jsxs)(d.Z,{spacing:3,children:[(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"대표이미지등록"}),(0,l.jsx)(C.Z,{file:ei.product_file||ei.product_img,onDrop:e=>{let n=e[0];n&&et({...ei,product_file:Object.assign(n,{preview:URL.createObjectURL(n)})})},onDelete:()=>{et({...ei,product_file:void 0,product_img:""})},fileExplain:{width:"(512x512 추천)"}})]}),(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"개별이미지등록 (여러장 업로드)"}),(0,l.jsx)(C.Z,{multiple:!0,thumbnail:!0,files:ei.sub_images.map(e=>1==e.is_delete?void 0:e.product_sub_img?e.product_sub_img:e.product_sub_file).filter(e=>e),onDrop:e=>{ev(e)},onRemove:e=>{em(e)},onRemoveAll:()=>{e_()},fileExplain:{width:"(512x512 추천)"},imageSize:{width:200,height:200}})]})]})})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(a.Z,{sx:{p:2,height:"100%"},children:(0,l.jsxs)(d.Z,{spacing:3,children:[M.map((e,n)=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:null==e?void 0:e.category_group_name}),(0,l.jsx)(K,{curCategories:null!==(z=Q[n])&&void 0!==z?z:[],categories:null==e?void 0:e.product_categories,categoryChildrenList:null!==(P=ee[n])&&void 0!==P?P:[],onClickCategory:ej,noneSelectText:"".concat(null==e?void 0:e.category_group_name,"를 선택해 주세요"),sort_idx:n})]})})),J.map((e,n)=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:null==e?void 0:e.property_group_name}),(0,l.jsx)(y.X2,{style:{flexWrap:"wrap"},children:(null==e?void 0:e.product_properties)&&(null==e?void 0:e.product_properties.map((n,i)=>{var t;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u.Z,{label:(0,l.jsx)(c.Z,{style:{fontSize:y.af.font_size.size6},children:null==n?void 0:n.property_name}),control:(0,l.jsx)(p.Z,{checked:ei.properties["".concat(null==e?void 0:e.id)]&&(null===(t=null!==(G=ei.properties["".concat(null==e?void 0:e.id)])&&void 0!==G?G:[])||void 0===t?void 0:t.includes(null==n?void 0:n.id))}),onChange:i=>{let t={...ei.properties};if(t["".concat(null==e?void 0:e.id)]&&(null==e?void 0:e.is_can_select_multiple)!=0||(t["".concat(null==e?void 0:e.id)]=[]),i.target.checked)t["".concat(null==e?void 0:e.id)].push(null==n?void 0:n.id);else{let i=t["".concat(null==e?void 0:e.id)].indexOf(null==n?void 0:n.id);i>=0&&t["".concat(null==e?void 0:e.id)].splice(i,1)}et({...ei,properties:t})}})})}))})]})})),(0,l.jsx)(h.Z,{label:"상품코드",value:ei.product_code,placeholder:"선택",onChange:e=>{et({...ei,product_code:e.target.value})}}),(0,l.jsx)(h.Z,{label:"상품명",value:ei.product_name,placeholder:"예시) 블랙 럭셔리 팔찌, 팔찌 1위 상품",onChange:e=>{et({...ei,product_name:e.target.value})}}),!(null===(i=null==T?void 0:T.none_use_column_obj.products)||void 0===i?void 0:i.includes("product_comment"))&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(h.Z,{label:"상품 간단한 설명",value:ei.product_comment,placeholder:"예시) 주문폭주!! 다양한 디자인으로 어떠한 룩도 소화!",onChange:e=>{et({...ei,product_comment:e.target.value})}})}),(0,l.jsxs)(x.Z,{variant:"outlined",children:[(0,l.jsx)(g.Z,{children:"상품가"}),(0,l.jsx)(v.Z,{label:"상품가",type:"number",value:ei.product_price,endAdornment:(0,l.jsx)(m.Z,{position:"end",children:"원"}),onChange:e=>{et({...ei,product_price:e.target.value})}})]}),(0,l.jsxs)(x.Z,{variant:"outlined",children:[(0,l.jsx)(g.Z,{children:"상품 할인가"}),(0,l.jsx)(v.Z,{label:"상품 할인가",type:"number",value:ei.product_sale_price,endAdornment:(0,l.jsx)(m.Z,{position:"end",children:"원"}),onChange:e=>{et({...ei,product_sale_price:e.target.value})}})]}),(0,l.jsxs)(x.Z,{variant:"outlined",children:[(0,l.jsx)(g.Z,{children:"배송비"}),(0,l.jsx)(v.Z,{label:"배송비",type:"number",value:ei.delivery_fee,endAdornment:(0,l.jsx)(m.Z,{position:"end",children:"원"}),onChange:e=>{et({...ei,delivery_fee:e.target.value})}})]}),(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"상품설명"}),(0,l.jsx)(D.Z,{value:ei.product_description,setValue:e=>{et({...ei,product_description:e})}})]}),!(null===(t=null==T?void 0:T.none_use_column_obj.products)||void 0===t?void 0:t.includes("characters"))&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"상품특성"}),ei.characters.map((e,n)=>(0,l.jsx)(l.Fragment,{children:(null==e?void 0:e.is_delete)!=1&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(y.X2,{style:{columnGap:"0.5rem"},children:[(0,l.jsx)(h.Z,{sx:{flexGrow:1},label:"특성키명",placeholder:"예시) 원산지",value:e.character_name,onChange:e=>{let i=null==ei?void 0:ei.characters;i[n].character_name=e.target.value,et({...ei,characters:i})}}),(0,l.jsxs)(x.Z,{variant:"outlined",sx:{flexGrow:1},children:[(0,l.jsx)(g.Z,{children:"특성값"}),(0,l.jsx)(v.Z,{label:"특성값",placeholder:"예시) 국내산",value:e.character_value,onChange:e=>{let i=null==ei?void 0:ei.characters;i[n].character_value=e.target.value,et({...ei,characters:i})}})]}),(0,l.jsx)(r.Z,{onClick:()=>{var e;let i=null==ei?void 0:ei.characters;(null===(e=i[n])||void 0===e?void 0:e.id)?i[n].is_delete=1:i.splice(n,1),et({...ei,characters:i})},children:(0,l.jsx)(F.JO,{icon:"material-symbols:delete-outline"})})]})})})),(0,l.jsx)(o.Z,{variant:"outlined",sx:{height:"48px"},onClick:()=>{let e=[...ei.characters];e.push({character_name:"",character_value:""}),et({...ei,characters:e})},children:"새 특성 추가"})]})}),!(null===(k=null==T?void 0:T.none_use_column_obj.products)||void 0===k?void 0:k.includes("options"))&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"상품옵션"}),ei.groups.map((e,n)=>(0,l.jsx)(l.Fragment,{children:(null==e?void 0:e.is_delete)!=1&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(y.X2,{style:{columnGap:"0.5rem",width:"100%"},children:[(0,l.jsxs)(x.Z,{variant:"outlined",style:{width:"100%"},children:[(0,l.jsx)(g.Z,{children:"옵션그룹명"}),(0,l.jsx)(v.Z,{label:"옵션그룹명",placeholder:"예시) 색상",value:e.group_name,endAdornment:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.Z,{style:{width:"114px",height:"56px",transform:"translateX(14px)"},variant:"contained",onClick:()=>{let e=null==ei?void 0:ei.groups;e[n].options.push({option_name:"",option_price:0,option_description:"",option_file:void 0}),et({...ei,groups:e})},children:"옵션추가"})}),onChange:e=>{let i=null==ei?void 0:ei.groups;i[n].group_name=e.target.value,et({...ei,groups:i})}})]}),(0,l.jsx)(r.Z,{onClick:()=>{var e;let i=null==ei?void 0:ei.groups;(null===(e=i[n])||void 0===e?void 0:e.id)?i[n].is_delete=1:i.splice(n,1),et({...ei,groups:i})},children:(0,l.jsx)(F.JO,{icon:"material-symbols:delete-outline"})})]}),(null==e?void 0:e.options)&&(null==e?void 0:e.options.map((e,i)=>(0,l.jsx)(l.Fragment,{children:(null==e?void 0:e.is_delete)!=1&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(y.X2,{style:{columnGap:"0.5rem"},children:[(0,l.jsx)(h.Z,{sx:{flexGrow:1},label:"옵션명",placeholder:"예시) 블랙",value:e.option_name,onChange:e=>{let t=null==ei?void 0:ei.groups;t[n].options[i].option_name=e.target.value,et({...ei,groups:t})}}),(0,l.jsxs)(x.Z,{variant:"outlined",sx:{flexGrow:1},children:[(0,l.jsx)(g.Z,{children:"변동가"}),(0,l.jsx)(v.Z,{label:"변동가",type:"number",value:e.option_price,endAdornment:(0,l.jsx)(m.Z,{position:"end",children:"원"}),onChange:e=>{let t=null==ei?void 0:ei.groups;t[n].options[i].option_price=e.target.value,et({...ei,groups:t})}})]}),(0,l.jsx)(r.Z,{onClick:()=>{var e;let t=null==ei?void 0:ei.groups;(null===(e=t[n].options[i])||void 0===e?void 0:e.id)?t[n].options[i].is_delete=1:t[n].options.splice(i,1),et({...ei,groups:t})},children:(0,l.jsx)(F.JO,{icon:"material-symbols:delete-outline"})})]})})})))]})})),(0,l.jsx)(o.Z,{variant:"outlined",sx:{height:"48px"},onClick:()=>{let e=[...ei.groups];e.push({group_name:"",group_description:"",group_file:void 0,is_able_duplicate_select:0,options:[]}),et({...ei,groups:e})},children:"옵션그룹 추가"})]})})]})})})]}),1==H&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,l.jsxs)(a.Z,{sx:{p:2,height:"100%"},children:[(0,l.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"판매자"}),(0,l.jsx)(u.Z,{label:(0,l.jsx)(c.Z,{style:{fontWeight:"bold",fontSize:y.af.font_size.size5},children:null==T?void 0:T.name}),control:(0,l.jsx)(p.Z,{checked:(null==ei?void 0:ei.product_type)==0,onChange:e=>{et({...ei,product_type:0,consignment_user_name:"",consignment_none_user_name:"",consignment_none_user_phone_num:"",consignment_fee:0,consignment_fee_type:0})}})}),(0,l.jsx)(u.Z,{label:(0,l.jsx)(c.Z,{style:{fontWeight:"bold",fontSize:y.af.font_size.size5},children:"회원"}),control:(0,l.jsx)(p.Z,{checked:(null==ei?void 0:ei.product_type)==1}),onChange:e=>{et({...ei,product_type:1,consignment_user_name:"",consignment_none_user_name:"",consignment_none_user_phone_num:""})}}),(0,l.jsx)(u.Z,{label:(0,l.jsx)(c.Z,{style:{fontWeight:"bold",fontSize:y.af.font_size.size5},children:"비회원"}),control:(0,l.jsx)(p.Z,{checked:(null==ei?void 0:ei.product_type)==2}),onChange:e=>{et({...ei,product_type:2,consignment_user_name:"",consignment_none_user_name:"",consignment_none_user_phone_num:""})}}),(0,l.jsxs)(d.Z,{spacing:3,style:{marginTop:"1rem"},children:[(null==ei?void 0:ei.product_type)==1&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(h.Z,{label:"유저아이디",value:ei.consignment_user_name,placeholder:"유저아이디",onChange:e=>{et({...ei,consignment_user_name:e.target.value})}})}),(null==ei?void 0:ei.product_type)==2&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z,{label:"판매자이름",value:ei.consignment_none_user_name,placeholder:"판매자이름",onChange:e=>{et({...ei,consignment_none_user_name:e.target.value})}}),(0,l.jsx)(h.Z,{label:"판매자연락처",value:ei.consignment_none_user_phone_num,placeholder:"판매자연락처",onChange:e=>{et({...ei,consignment_none_user_phone_num:e.target.value})}})]})]})]})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(a.Z,{sx:{p:2,height:"100%"},children:(0,l.jsxs)(d.Z,{spacing:3,children:[(0,l.jsxs)(x.Z,{children:[(0,l.jsx)(g.Z,{children:"수수료타입"}),(0,l.jsxs)(_.Z,{label:"수수료타입",value:ei.consignment_fee_type,disabled:(null==ei?void 0:ei.product_type)==0,onChange:e=>{et({...ei,consignment_fee_type:e.target.value})},children:[(0,l.jsx)(j.Z,{value:0,children:"금액단위"}),(0,l.jsx)(j.Z,{value:1,children:"퍼센트단위"})]})]}),(0,l.jsxs)(x.Z,{variant:"outlined",sx:{flexGrow:1},children:[(0,l.jsx)(g.Z,{children:"수수료"}),(0,l.jsx)(v.Z,{disabled:(null==ei?void 0:ei.product_type)==0,label:"수수료",type:"number",value:ei.consignment_fee,endAdornment:(0,l.jsx)(m.Z,{position:"end",children:0==ei.consignment_fee_type?"원":"%"}),onChange:e=>{et({...ei,consignment_fee:e.target.value})}})]})]})})})]}),2==H&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,l.jsxs)(a.Z,{sx:{p:2,height:"100%"},children:[(0,l.jsx)("div",{style:{padding:"0 0.75rem"},children:(0,l.jsx)(o.Z,{style:{width:"100%"},variant:"outlined",onClick:()=>{es({title:"",content:""}),ed(!0)},children:"+ 리뷰 추가하기"})}),(0,l.jsx)(A.Z,{data:el,columns:ep,searchObj:ec,onChangePage:ex,add_button_text:""})]})}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:6,children:(0,l.jsx)(a.Z,{sx:{p:2,height:"100%"},children:(0,l.jsx)(d.Z,{spacing:3,children:ea?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"대표이미지등록"}),(0,l.jsx)(C.Z,{file:eo.profile_file||eo.profile_img,onDrop:e=>{let n=e[0];n&&es({...eo,profile_file:Object.assign(n,{preview:URL.createObjectURL(n)})})},onDelete:()=>{es({...eo,profile_file:void 0,profile_img:""})},fileExplain:{width:"(512x512 추천)"}})]}),(0,l.jsx)(d.Z,{spacing:1,children:(0,l.jsx)(h.Z,{label:"제목",value:eo.title,onChange:e=>{es({...eo,title:e.target.value})}})}),(0,l.jsxs)(d.Z,{spacing:1,children:[(0,l.jsx)(c.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"별점"}),(0,l.jsx)(f.Z,{value:(null==eo?void 0:eo.scope)/2,precision:.5,style:{marginTop:"0"},onChange:e=>{es({...eo,scope:2*e.target.value})}})]}),(0,l.jsx)(d.Z,{spacing:1,children:(0,l.jsx)(h.Z,{fullWidth:!0,label:"내용",multiline:!0,rows:4,value:eo.content,onChange:e=>{es({...eo,content:e.target.value})}})}),(0,l.jsx)(d.Z,{spacing:1,children:(0,l.jsx)(o.Z,{variant:"contained",style:{marginTop:"auto",height:"56px"},onClick:()=>{N({func:()=>{eb()},icon:"material-symbols:edit-outline",title:"저장 하시겠습니까?"})},children:(null==eo?void 0:eo.id)>0?"수정":"추가"})})]}):(0,l.jsx)(l.Fragment,{})})})})]}),(0,l.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,l.jsx)(a.Z,{sx:{p:3},children:(0,l.jsx)(d.Z,{spacing:1,style:{display:"flex"},children:(0,l.jsx)(o.Z,{variant:"contained",style:{height:"48px",width:"120px",marginLeft:"auto"},onClick:()=>{N({func:()=>{ef()},icon:"material-symbols:edit-outline",title:"저장 하시겠습니까?"})},children:"저장"})})})})]})]})})};H.getLayout=e=>(0,l.jsx)(k.Z,{children:e}),n.default=H},67122:function(e,n,i){i.d(n,{FK:function(){return r},e_:function(){return o},oe:function(){return a},v1:function(){return s}});var t=i(92077),l=i.n(t);function r(e){return l()(e).format()}function o(e){let n=e?l()(e).format("0,0.00"):"";return d(n,".00")}function s(e){let n=e?l()(e).format("0.00a"):"";return d(n,".00")}function a(e){let n=e?l()(e).format("0.0 b"):"";return d(n,".0")}function d(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".00",i=e.includes(n);return i?e.replace(n,""):e}},13380:function(e,n,i){i.d(n,{Z:function(){return Y}});var t=i(82729),l=i(85893),r=i(72882),o=i(50135),s=i(94054),a=i(33841),d=i(153),c=i(18972),u=i(57709),p=i(34386),h=i(93946),x=i(83321),g=i(98456),v=i(7906),m=i(295),_=i(67720),j=i(87357),f=i(15054),b=i(78391),Z=i(45697),y=i.n(Z),w=i(53816),C=i(53252),k=i(14607);function F(e){let{isNotFound:n}=e;return(0,l.jsx)(w.Z,{children:n?(0,l.jsx)(C.Z,{colSpan:12,children:(0,l.jsx)(k.Z,{title:"데이터가 없습니다.",sx:{"& span.MuiBox-root":{height:160}}})}):(0,l.jsx)(C.Z,{colSpan:12,sx:{p:0}})})}F.propTypes={isNotFound:y().bool};var S=i(38873),z=i(11138),P=i(67294),R=i(65631),O=i(50066),G=i(11163),A=i(1954),W=i(17543),L=i(90948),I=e=>{let{col:n,row:i,idx:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(C.Z,{align:"left",sx:{...(null==n?void 0:n.sx)?n.sx(i):{}},children:n.action(i)})})},D=i(99272),X=i(49294);let E=(0,L.ZP)(w.Z)(e=>{let{theme:n}=e;return{"&:hover":{background:"".concat("dark"==n.palette.mode?"":n.palette.grey[100])}}}),N={CARD:"card"};var M=e=>{let{index:n,columns:i,row:t,want_move_card:r,moveCard:o,onChangeSequence:s}=e,a=(0,P.useRef)(null),[{handlerId:d},c]=(0,D.L)({accept:N.CARD,drop(e){let n=null==e?void 0:e.index;s(null==e?void 0:e.id,n)},collect:e=>({handlerId:e.getHandlerId()}),hover(e,i){var t;if(!a.current)return;let l=e.index;if(l===n)return;let r=null===(t=a.current)||void 0===t?void 0:t.getBoundingClientRect(),s=(r.bottom-r.top)/2,d=i.getClientOffset(),c=d.y-r.top;l<n&&c<s||l>n&&c>s||(o(l,n),e.index=n)}}),[{isDragging:u},p]=(0,X.c)({type:N.CARD,item:()=>({id:null==t?void 0:t.id,index:n,sort:null==t?void 0:t.sort_idx}),collect:e=>({isDragging:e.isDragging()})});return p(c(a)),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(E,{ref:r?a:null,"data-handler-id":d,children:i&&i.map((e,n)=>(0,l.jsx)(I,{col:e,row:t,idx:n}))})})},T=i(36963),J=i(67179),q=i(7145),U=i.n(q),B=i(96486),$=i.n(B),K=i(49824),H=i(50689);function V(){let e=(0,t._)(["\npadding: 0.75rem;\ndisplay: flex;\nflex-wrap: wrap;\njustify-content:space-between;\n@media (max-width:1000px){\n  flex-direction:column;\n  row-gap:0.75rem;\n}\n"]);return V=function(){return e},e}let Q=O.ZP.div(V());function Y(e){var n,i;let{columns:t,data:Z,add_button_text:y,add_link:w,onChangePage:C,searchObj:k,want_move_card:O,table:L,detail_search:I}=e,{page:D,page_size:X}=null==e?void 0:e.searchObj,E=(0,G.useRouter)(),{settingPlatform:N}=(0,H.K$)(),[q,B]=(0,P.useState)(void 0),[V,Y]=(0,P.useState)(void 0),[ee,en]=(0,P.useState)(""),[ei,et]=(0,P.useState)(void 0);(0,P.useEffect)(()=>{et(null==Z?void 0:Z.content)},[null==Z?void 0:Z.content]);let el=(0,P.useCallback)((e,n,i)=>{et(i=>U()(i,{$splice:[[e,1],[n,0,i[e]]]}))},[]),er=async(e,n)=>{let i=$().find(null==Z?void 0:Z.content,{id:parseInt(e)}),t=$().findIndex(null==Z?void 0:Z.content,{id:parseInt(e)}),l=null==Z?void 0:Z.content[n],r=null==i?void 0:i.id,o=null==i?void 0:i.sort_idx,s=null==l?void 0:l.id,a=null==l?void 0:l.sort_idx;t!=n&&await (0,K.m8)("".concat(L,"/sort"),"update",{source_id:r,source_sort_idx:o,dest_id:s,dest_sort_idx:a})&&(C(k),N())},eo=(0,P.useCallback)((e,n,i,r)=>(0,l.jsx)(M,{index:n,columns:t,row:e,moveCard:el,onChangeSequence:er,want_move_card:O},null==e?void 0:e.id),[ei]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(r.Z,{sx:{overflow:"unset"},children:[(0,l.jsxs)(Q,{children:[(0,l.jsx)(R.X2,{style:{rowGap:"1rem",flexWrap:"wrap"},children:window.innerWidth>1e3?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.$,{label:"시작일 선택",value:q,format:"yyyy-MM-dd",onChange:e=>{B(e),C({...k,s_dt:(0,W.RC)(!1,new Date(e)).substring(0,10)})},renderInput:e=>(0,l.jsx)(o.Z,{fullWidth:!0,...e,margin:"normal"}),sx:{marginRight:"0.75rem",width:"180px",height:"32px"},slotProps:{textField:{size:"small"}}}),(0,l.jsx)(S.$,{label:"종료일 선택",value:V,format:"yyyy-MM-dd",onChange:e=>{Y(e),C({...k,e_dt:(0,W.RC)(!1,new Date(e)).substring(0,10)})},renderInput:e=>(0,l.jsx)(o.Z,{fullWidth:!0,...e,margin:"normal"}),sx:{width:"180px"},slotProps:{textField:{size:"small"}}})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(z.O,{label:"시작일 선택",value:q,format:"yyyy-MM-dd",onChange:e=>{B(e)},renderInput:e=>(0,l.jsx)(o.Z,{fullWidth:!0,...e,margin:"normal"}),sx:{marginRight:"0.75rem",flexGrow:1},slotProps:{textField:{size:"small"}}}),(0,l.jsx)(z.O,{label:"종료일 선택",value:V,format:"yyyy-MM-dd",onChange:e=>{Y(e)},renderInput:e=>(0,l.jsx)(o.Z,{fullWidth:!0,...e,margin:"normal"}),sx:{flexGrow:1},slotProps:{textField:{size:"small"}}})]})}),(0,l.jsxs)(R.X2,{style:{columnGap:"0.75rem",flexWrap:"wrap",rowGap:"0.75rem"},children:[(0,l.jsxs)(s.Z,{variant:"outlined",size:"small",sx:{width:"100px",flexGrow:1},children:[(0,l.jsx)(a.Z,{children:"페이지사이즈"}),(0,l.jsxs)(d.Z,{label:"페이지사이즈",value:X,onChange:e=>{C({...k,page_size:e.target.value})},children:[(0,l.jsx)(c.Z,{value:10,children:"10"}),(0,l.jsx)(c.Z,{value:20,children:"20"}),(0,l.jsx)(c.Z,{value:30,children:"30"}),(0,l.jsx)(c.Z,{value:50,children:"50"}),(0,l.jsx)(c.Z,{value:100,children:"100"})]})]}),(0,l.jsx)(s.Z,{variant:"outlined",sx:{flexGrow:1},children:(0,l.jsx)(u.Z,{size:"small",label:"",value:ee,endAdornment:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(p.Z,{title:"해당 텍스트로 검색하시려면 엔터 또는 돋보기 버튼을 클릭해주세요.",children:(0,l.jsx)(h.Z,{position:"end",sx:{transform:"translateX(14px)"},onClick:()=>C({...k,search:ee}),children:(0,l.jsx)(A.JO,{icon:"material-symbols:search"})})})}),onChange:e=>{en(e.target.value)},onKeyPress:e=>{"Enter"==e.key&&C({...k,search:ee})}})}),I&&(0,l.jsx)(l.Fragment,{children:I}),y?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(x.Z,{variant:"contained",sx:{flexGrow:1},onClick:()=>{let e=E.asPath;E.asPath.includes("list")&&(e=e.replace("list","")),E.push(w||"".concat(e,"add"))},children:["+ ",y]})}):(0,l.jsx)(l.Fragment,{})]})]}),(0,l.jsx)("div",{style:{width:"100%",overflow:"auto"},children:Z.content?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(v.Z,{sx:{minWidth:800,overflowX:"auto"},children:[(0,l.jsx)(b.Z,{headLabel:t}),(0,l.jsx)(J.W,{backend:T.PD,children:(0,l.jsx)(m.Z,{children:ei&&ei.map((e,n)=>eo(e,n))})}),Z.content&&0==Z.content.length&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(F,{isNotFound:!0})})]})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(R.X2,{style:{height:"400px"},children:(0,l.jsx)(g.Z,{sx:{margin:"auto"}})})})}),(0,l.jsx)(_.Z,{}),(0,l.jsx)(j.Z,{sx:{padding:"0.75rem",display:"flex"},children:(0,l.jsx)(f.Z,{sx:{marginLeft:"auto"},size:"medium",count:(n=null==Z?void 0:Z.total,i=null==Z?void 0:Z.page_size,0==n?1:n%i==0?parseInt(n/i):parseInt(n/i)+1),page:D,variant:"outlined",shape:"rounded",color:"primary",onChange:(e,n)=>{C({...k,page:n})}})})]})})}},20273:function(e,n,i){var t=i(85893),l=i(5152),r=i.n(l),o=i(67294),s=i(49824),a=i(17543);let d=r()(()=>Promise.all([i.e(2937),i.e(1167)]).then(i.t.bind(i,71167,23)),{loadableGenerated:{webpack:()=>[71167]},ssr:!1,loading:()=>(0,t.jsx)("p",{children:"Loading ..."})});n.Z=e=>{let{value:n,setValue:i}=e,l=(0,o.useRef)(null),r=(0,o.useMemo)(()=>({toolbar:{container:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["clean"]]},clipboard:{matchVisual:!1}}),[]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(d,{className:"max-height-editor",theme:"snow",id:"content",placeholder:"",value:n,modules:r,formats:["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video","color","align"],ref:l,onChange:async e=>{let n=e;if(e.includes('<img src="')&&e.includes("base64,")){let i=e.split('<img src="');for(var t=0;t<i.length;t++)if(i[t].includes("base64,")){let e=i[t],l=(e=await e.split('"></p>'))[0];e=await (0,a._x)(e[0],"note.png");let r=await (0,s.P1)({file:e});n=await n.replace(l,null==r?void 0:r.url)}}i(n)}})})}}}]);