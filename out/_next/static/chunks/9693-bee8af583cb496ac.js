"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9693],{66242:function(e,i,l){l.d(i,{Z:function(){return f}});var n=l(87462),t=l(63366),a=l(67294),r=l(86010),s=l(94780),o=l(90948),c=l(71657),d=l(90629),u=l(1588),x=l(34867);function g(e){return(0,x.Z)("MuiCard",e)}(0,u.Z)("MuiCard",["root"]);var p=l(85893);let h=["className","raised"],_=e=>{let{classes:i}=e;return(0,s.Z)({root:["root"]},g,i)},v=(0,o.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,i)=>i.root})(()=>({overflow:"hidden"})),m=a.forwardRef(function(e,i){let l=(0,c.Z)({props:e,name:"MuiCard"}),{className:a,raised:s=!1}=l,o=(0,t.Z)(l,h),d=(0,n.Z)({},l,{raised:s}),u=_(d);return(0,p.jsx)(v,(0,n.Z)({className:(0,r.Z)(u.root,a),elevation:s?8:void 0,ref:i,ownerState:d},o))});var f=m},96965:function(e,i,l){l.r(i);var n=l(85893),t=l(83321),a=l(86886),r=l(66242),s=l(26447),o=l(15861),c=l(93946),d=l(41796),u=l(34386),x=l(69661),g=l(50135),p=l(94054),h=l(33841),_=l(153),v=l(18972),m=l(49624),f=l(11163),j=l(67294),b=l(65631),Z=l(50689),y=l(82367),w=l(11466),k=l(19755),C=l.n(k),R=l(91561),L=l(19358),O=l(84475),S=l(7295),U=l(96486),D=l.n(U),F=l(49824),q=l(81272);let E=()=>{var e,i,l,w;let{setModal:k}=(0,S.d)(),{user:U}=(0,L.E)(),{themeMode:E}=(0,Z.K$)(),P=(0,f.useRouter)(),[I,M]=(0,j.useState)(!0),[N,z]=(0,j.useState)({content:[]}),[K,W]=(0,j.useState)({user_name:"",nickname:"",name:"",seller_name:"",addr:"",acct_bank_name:"",acct_num:"",acct_name:"",phone_num:"",note:"",seller_trx_fee:0,sns_obj:{youtube_channel:"",instagram_id:""},background_file:void 0,background_img:"",passbook_file:void 0,passbook_img:"",contract_file:void 0,contract_img:"",bsin_lic_file:void 0,bsin_lic_img:"",id_file:void 0,id_img:"",profile_file:void 0,profile_img:"",user_pw:""}),[X,A]=(0,j.useState)([]),[G,T]=(0,j.useState)(0),[V,Y]=(0,j.useState)([]),$=[{value:0,label:"기본정보"},{value:1,label:"파일 설정"},...(null==U?void 0:U.level)>=40?[{value:2,label:"수수료 설정 및 분양할 상품"}]:[]];(0,j.useEffect)(()=>{B()},[]);let B=async()=>{var e,i,l,n;if((null===(e=P.query)||void 0===e?void 0:e.edit_category)=="edit"){let e=await (0,F.fp)("sellers","get",{id:null===(i=P.query)||void 0===i?void 0:i.id});e&&(A((null!==(l=null==e?void 0:e.products)&&void 0!==l?l:[]).map(e=>null==e?void 0:e.id)),z({content:null!==(n=null==e?void 0:e.products)&&void 0!==n?n:[]}),W(e))}M(!1)},H=async()=>{var e,i;((null===(e=P.query)||void 0===e?void 0:e.edit_category)=="edit"?await (0,F.fp)("sellers","update",{...K,id:null===(i=P.query)||void 0===i?void 0:i.id,product_ids:X}):await (0,F.fp)("sellers","create",{...K,product_ids:X}))&&(O.Am.success("성공적으로 저장 되었습니다."),P.push("/manager/users/sellers"))},J=async e=>{let i=e.target.value;if(3==i.length&&!V.includes(i)){V.push(i),Y(V);let e=await (0,F.fp)("products","list",{page:1,page_size:1e5,search:i}),l=[...null==N?void 0:N.content,...null==e?void 0:e.content];l=l.reduce((e,i)=>{let l=e.findIndex(e=>e.id===i.id);return -1===l&&e.push(i),e},[]),z({...e,content:l})}};return(0,n.jsx)(n.Fragment,{children:!I&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.X2,{style:{margin:"0 0 1rem 0",columnGap:"0.5rem"},children:$.map(e=>(0,n.jsx)(t.Z,{variant:e.value==G?"contained":"outlined",onClick:()=>{T(e.value)},children:e.label}))}),(0,n.jsxs)(a.ZP,{container:!0,spacing:3,children:[0==G&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(r.Z,{sx:{p:2,height:"100%"},children:(0,n.jsxs)(s.Z,{spacing:3,children:[(0,n.jsxs)(s.Z,{spacing:1,children:[(0,n.jsx)(o.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"프로필사진 및 배경사진"}),(0,n.jsx)(y.Z,{file:K.background_file||K.background_img,onDrop:e=>{let i=e[0];i&&W({...K,background_file:Object.assign(i,{preview:URL.createObjectURL(i)})})},onDelete:()=>{W({...K,background_img:"",background_file:void 0})},fileExplain:{width:"(800x300 추천)"},boxStyle:{padding:"0",height:"300px",display:"flex"}}),(0,n.jsxs)(b.X2,{style:{margin:"auto",transform:"translateY(-42px)",position:"relative",flexDirection:"column",alignItems:"center"},children:[K.profile_img&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(c.Z,{size:"small",onClick:()=>{W({...K,profile_img:"",profile_file:void 0})},sx:{top:-16,right:-16,zIndex:9,position:"absolute",color:e=>(0,d.Fq)(e.palette.common.white,.8),bgcolor:e=>(0,d.Fq)(e.palette.grey[900],.72),"&:hover":{bgcolor:e=>(0,d.Fq)(e.palette.grey[900],.48)}},children:(0,n.jsx)(R.Z,{icon:"eva:close-fill",width:18})})}),(0,n.jsx)(u.Z,{title:"".concat(K.profile_img?"":"프로필사진을 업로드 해주세요."),children:(0,n.jsx)("label",{for:"profile-img",style:{cursor:"pointer"},children:(0,n.jsx)(x.Z,{sx:{width:"84px",height:"84px"},src:K.profile_file?URL.createObjectURL(K.profile_file):K.profile_img})})}),(0,n.jsx)("input",{type:"file",style:{display:"none"},id:"profile-img",onChange:e=>{e.target.files[0]&&(W({...K,profile_file:e.target.files[0]}),C()("#profile-img").val(""))}}),(0,n.jsx)("div",{style:{marginTop:"1rem",fontWeight:"bold",height:"24px"},children:K.instagram_id})]})]}),(0,n.jsx)(s.Z,{spacing:1,children:(0,n.jsx)(g.Z,{label:"인스타그램 아이디",value:K.sns_obj.instagram_id,onChange:e=>{W({...K,sns_obj:{...K.sns_obj,instagram_id:e.target.value}})}})}),(0,n.jsx)(s.Z,{spacing:1,children:(0,n.jsx)(g.Z,{label:"유튜브 채널",value:K.sns_obj.youtube_channel,placeholder:"https://www.youtube.com/user_name",onChange:e=>{W({...K,sns_obj:{...K.sns_obj,youtube_channel:e.target.value}})}})})]})})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(r.Z,{sx:{p:2,height:"100%"},children:(0,n.jsxs)(s.Z,{spacing:3,children:[(0,n.jsx)(g.Z,{label:"아이디",value:K.user_name,disabled:(null===(e=P.query)||void 0===e?void 0:e.edit_category)=="edit",onChange:e=>{W({...K,user_name:e.target.value})}}),(null===(i=P.query)||void 0===i?void 0:i.edit_category)=="add"&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(g.Z,{label:"패스워드",value:K.user_pw,type:"password",onChange:e=>{W({...K,user_pw:e.target.value})}})}),(0,n.jsx)(g.Z,{label:"이름",value:K.name,onChange:e=>{W({...K,name:e.target.value})}}),(0,n.jsx)(g.Z,{label:"닉네임",value:K.nickname,onChange:e=>{W({...K,nickname:e.target.value})}}),(0,n.jsx)(g.Z,{label:"셀러명",value:K.seller_name,onChange:e=>{W({...K,seller_name:e.target.value})}}),(0,n.jsx)(g.Z,{label:"전화번호",value:K.phone_num,placeholder:"하이픈(-) 제외 입력",onChange:e=>{W({...K,phone_num:e.target.value})}}),(0,n.jsx)(g.Z,{label:"주소",value:K.addr,onChange:e=>{W({...K,addr:e.target.value})}}),(0,n.jsx)(g.Z,{label:"은행명",value:K.acct_bank_name,onChange:e=>{W({...K,acct_bank_name:e.target.value})}}),(0,n.jsx)(s.Z,{spacing:1,children:(0,n.jsxs)(p.Z,{children:[(0,n.jsx)(h.Z,{children:"은행선택"}),(0,n.jsx)(_.Z,{label:"은행선택",value:K.acct_bank_code,onChange:e=>{W({...K,acct_bank_code:e.target.value})},children:q.iK.map((e,i)=>(0,n.jsx)(v.Z,{value:e.value,children:e.label}))})]})}),(0,n.jsx)(g.Z,{label:"계좌번호",value:K.acct_num,onChange:e=>{W({...K,acct_num:e.target.value})}}),(0,n.jsx)(g.Z,{label:"예금주명",value:K.acct_name,onChange:e=>{W({...K,acct_name:e.target.value})}})]})})})]}),1==G&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(r.Z,{sx:{p:2,height:"100%"},children:(0,n.jsxs)(s.Z,{spacing:3,children:[(0,n.jsxs)(s.Z,{spacing:1,children:[(0,n.jsx)(o.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"통장사본 이미지"}),(0,n.jsx)(y.Z,{file:K.passbook_file||K.passbook_img,onDrop:e=>{let i=e[0];i&&W({...K,passbook_file:Object.assign(i,{preview:URL.createObjectURL(i)})})},onDelete:()=>{W({...K,passbook_file:void 0,passbook_img:""})},fileExplain:{width:"(800x300 추천)"},boxStyle:{padding:"0",height:"300px",display:"flex"}})]}),(0,n.jsxs)(s.Z,{spacing:1,children:[(0,n.jsx)(o.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"계약서 이미지"}),(0,n.jsx)(y.Z,{file:K.contract_file||K.contract_img,onDrop:e=>{let i=e[0];i&&W({...K,contract_file:Object.assign(i,{preview:URL.createObjectURL(i)})})},onDelete:()=>{W({...K,contract_file:void 0,contract_img:""})},fileExplain:{width:"(800x300 추천)"},boxStyle:{padding:"0",height:"300px",display:"flex"}})]})]})})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(r.Z,{sx:{p:2,height:"100%"},children:(0,n.jsxs)(s.Z,{spacing:3,children:[(0,n.jsxs)(s.Z,{spacing:1,children:[(0,n.jsx)(o.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"사업자등록증 이미지"}),(0,n.jsx)(y.Z,{file:K.bsin_lic_file||K.bsin_lic_img,onDrop:e=>{let i=e[0];i&&W({...K,bsin_lic_file:Object.assign(i,{preview:URL.createObjectURL(i)})})},onDelete:()=>{W({...K,bsin_lic_file:void 0,bsin_lic_img:""})},fileExplain:{width:"(800x300 추천)"},boxStyle:{padding:"0",height:"300px",display:"flex"}})]}),(0,n.jsxs)(s.Z,{spacing:1,children:[(0,n.jsx)(o.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"신분증 사본 이미지"}),(0,n.jsx)(y.Z,{file:K.id_file||K.id_img,onDrop:e=>{let i=e[0];i&&W({...K,id_file:Object.assign(i,{preview:URL.createObjectURL(i)})})},onDelete:()=>{W({...K,id_file:void 0,id_img:""})},fileExplain:{width:"(800x300 추천)"},boxStyle:{padding:"0",height:"300px",display:"flex"}})]})]})})})]}),2==G&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(r.Z,{sx:{p:2,height:"100%"},children:(0,n.jsx)(s.Z,{spacing:3,children:(0,n.jsx)(g.Z,{label:"수수료률",value:K.seller_trx_fee,type:"number",onChange:e=>{W({...K,seller_trx_fee:e.target.value})}})})})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,n.jsx)(r.Z,{sx:{p:2,height:"100%"},children:(0,n.jsx)(s.Z,{spacing:3,children:(0,n.jsx)(m.Z,{multiple:!0,fullWidth:!0,options:(null==N?void 0:N.content)&&(null!==(l=null==N?void 0:N.content)&&void 0!==l?l:[]).map(e=>null==e?void 0:e.id),getOptionLabel:e=>{var i;return null===(i=D().find(null!==(w=null==N?void 0:N.content)&&void 0!==w?w:[],{id:parseInt(e)}))||void 0===i?void 0:i.product_name},defaultValue:X,value:X,onChange:(e,i)=>{A(i)},renderInput:e=>(0,n.jsx)(g.Z,{...e,label:"분양할 상품",placeholder:"상품선택",onChange:e=>{J(e)}})})})})})]}),(0,n.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,n.jsx)(r.Z,{sx:{p:3},children:(0,n.jsx)(s.Z,{spacing:1,style:{display:"flex"},children:(0,n.jsx)(t.Z,{variant:"contained",style:{height:"48px",width:"120px",marginLeft:"auto"},onClick:()=>{k({func:()=>{H()},icon:"material-symbols:edit-outline",title:"저장 하시겠습니까?"})},children:"저장"})})})})]})]})})};E.getLayout=e=>(0,n.jsx)(w.Z,{children:e}),i.default=E},67122:function(e,i,l){l.d(i,{FK:function(){return a},e_:function(){return r},oe:function(){return o},v1:function(){return s}});var n=l(92077),t=l.n(n);function a(e){return t()(e).format()}function r(e){let i=e?t()(e).format("0,0.00"):"";return c(i,".00")}function s(e){let i=e?t()(e).format("0.00a"):"";return c(i,".00")}function o(e){let i=e?t()(e).format("0.0 b"):"";return c(i,".0")}function c(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".00",l=e.includes(i);return l?e.replace(i,""):e}}}]);