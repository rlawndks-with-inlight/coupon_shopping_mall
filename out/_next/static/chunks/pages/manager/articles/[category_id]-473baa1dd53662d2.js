(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{11264:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager/articles/[category_id]",function(){return i(27602)}])},27602:function(e,t,i){"use strict";i.r(t);var a=i(6464);t.default=a.default},6464:function(e,t,i){"use strict";i.r(t);var a=i(85893),l=i(93946),n=i(26447),r=i(66242),o=i(67294),d=i(11466),s=i(13380),c=i(1954),u=i(11163),_=i(7295),g=i(72679),p=i(49824);let y=()=>{let{setModal:e}=(0,_.d)(),[t,i]=(0,o.useState)({}),d=[...(null==t?void 0:t.post_category_type)==1?[{id:"post_title_img",label:"대표이미지",action:e=>(0,a.jsx)(g.LazyLoadImage,{src:e.post_title_img,style:{height:"56px"}})}]:[],{id:"post_title",label:"제목",action:e=>{var t;return null!==(t=e.post_title)&&void 0!==t?t:"---"}},{id:"post_category_title",label:"서브카테고리",action:e=>(null==t?void 0:t.id)==(null==e?void 0:e.category_id)?"---":e.post_category_title},{id:"writer_user_name",label:"작성자 유저아이디",action:e=>{var t;return null!==(t=e.writer_user_name)&&void 0!==t?t:"---"}},{id:"writer_nickname",label:"작성자 닉네임",action:e=>{var t;return null!==(t=e.writer_nickname)&&void 0!==t?t:"---"}},{id:"created_at",label:"생성시간",action:e=>{var t;return null!==(t=e.created_at)&&void 0!==t?t:"---"}},...(null==t?void 0:t.is_able_user_add)==1&&(null==t?void 0:t.post_category_read_type)==1?[{id:"replies",label:"답변여부",action:e=>(null==e?void 0:e.replies.length)>0?"답변완료":"답변안함"}]:[],{id:"updated_at",label:"최종수정시간",action:e=>{var t;return null!==(t=e.updated_at)&&void 0!==t?t:"---"}},{id:"edit",label:"".concat((null==t?void 0:t.is_able_user_add)==1&&(null==t?void 0:t.post_category_read_type)==1?"답변":"수정","/삭제"),action:t=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{children:(0,a.jsx)(c.JO,{icon:"material-symbols:edit-outline",onClick:()=>{y.push("/manager/articles/".concat(y.query.category_id,"/edit/").concat(null==t?void 0:t.id))}})}),(0,a.jsx)(l.Z,{onClick:()=>{e({func:()=>{k(null==t?void 0:t.id)},icon:"material-symbols:delete-outline",title:"정말 삭제하시겠습니까?"})},children:(0,a.jsx)(c.JO,{icon:"material-symbols:delete-outline"})})]})}],y=(0,u.useRouter)(),[v,f]=(0,o.useState)([]),[b,h]=(0,o.useState)({}),[m,w]=(0,o.useState)({page:1,page_size:10,s_dt:"",e_dt:"",search:"",category_id:null});(0,o.useEffect)(()=>{x()},[y.query]),(0,o.useEffect)(()=>{f(d)},[t]);let x=async()=>{var e;i(await (0,p.fp)("post-categories","get",{id:y.query.category_id})),j({...m,category_id:null===(e=y.query)||void 0===e?void 0:e.category_id,page:1})},j=async e=>{h({...b,content:void 0});let t=await (0,p.fp)("posts","list",e);t&&h(t),w(e)},k=async e=>{if(await (0,p.fp)("posts","delete",{id:e})){var t;j({...m,category_id:null===(t=y.query)||void 0===t?void 0:t.category_id})}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.Z,{spacing:3,children:(0,a.jsx)(r.Z,{children:(0,a.jsx)(s.Z,{data:b,columns:v,searchObj:m,onChangePage:j,add_button_text:"게시물 추가"})})})})};y.getLayout=e=>(0,a.jsx)(d.Z,{children:e}),t.default=y}},function(e){e.O(0,[3662,3548,8203,9421,5422,153,135,6886,1664,7273,8422,7422,2961,7720,8282,5054,8873,7516,9456,1466,3380,9774,2888,179],function(){return e(e.s=11264)}),_N_E=e.O()}]);