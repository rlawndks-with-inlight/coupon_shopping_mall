(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1464],{94961:function(e,i,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager/articles/categories/[edit_category]/[id]",function(){return l(63504)}])},63504:function(e,i,l){"use strict";l.r(i);var t=l(85893),n=l(86886),d=l(66242),a=l(26447),r=l(50135),s=l(78445),o=l(83321),c=l(11163),u=l(67294),h=l(50689),v=l(13033),g=l(5152),p=l.n(g);l(19755);var x=l(86745),_=l(84475),y=l(7295);p()(()=>Promise.all([l.e(2937),l.e(1167)]).then(l.t.bind(l,71167,23)),{loadableGenerated:{webpack:()=>[71167]},ssr:!1,loading:()=>(0,t.jsx)("p",{children:"Loading ..."})});let j=p()(()=>Promise.all([l.e(4645),l.e(655)]).then(l.bind(l,54645)),{loadableGenerated:{webpack:()=>[54645]},ssr:!1}),m=()=>{var e,i;let{setModal:l}=(0,y.d)(),{themeMode:v}=(0,h.K$)(),g=(0,c.useRouter)(),[p,m]=(0,u.useState)(!0),[f,Z]=(0,u.useState)({post_category_title:"",parent_id:null===(e=g.query)||void 0===e?void 0:e.parent_id});(0,u.useEffect)(()=>{w()},[]);let w=async()=>{var e,i;if((null===(e=g.query)||void 0===e?void 0:e.edit_category)=="edit"){let e=await (0,x.Z0)({id:null===(i=g.query)||void 0===i?void 0:i.id});e&&(!(null==e?void 0:e.children.length)>0&&E("add-children","하위 카테고리가 필요하면 '추가' 버튼을 클릭하여 하위 카테고리를 추가해 주세요."),Z(e))}m(!1)},b=async()=>{let e;if((null===(i=g.query)||void 0===i?void 0:i.edit_category)=="edit"){for(var i,l,t,n,d=0;d<(null==f?void 0:f.children.length);d++)(null===(t=null==f?void 0:f.children[d])||void 0===t?void 0:t.id)?(null===(n=null==f?void 0:f.children[d])||void 0===n?void 0:n.is_edit)&&await (0,x.uF)({...null==f?void 0:f.children[d]}):await (0,x.gn)(null==f?void 0:f.children[d]);e=await (0,x.uF)({...f,id:null===(l=g.query)||void 0===l?void 0:l.id})}else e=await (0,x.gn)(f);e&&(_.Am.success("성공적으로 저장 되었습니다."),window.location.href="/manager/articles/categories")},[k,q]=(0,u.useState)(!1),[P,C]=(0,u.useState)([]),E=(e,i)=>{C([{selector:".".concat(e),content:i}]),q(!0)},F=()=>{q(!1),C([])};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j,{steps:P,isOpen:k,disableInteraction:!1,onRequestClose:F}),!p&&(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(n.ZP,{container:!0,spacing:3,children:[(0,t.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,t.jsx)(d.Z,{sx:{p:2,height:"100%"},children:(0,t.jsx)(a.Z,{spacing:3,children:(0,t.jsx)(r.Z,{label:"카테고리명",placeholder:"ex) 공지사항",value:f.post_category_title,onChange:e=>{Z({...f,post_category_title:e.target.value})}})})})}),(null===(i=g.query)||void 0===i?void 0:i.edit_category)=="edit"&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,t.jsx)(d.Z,{sx:{p:2,height:"100%"},children:(0,t.jsxs)(a.Z,{spacing:3,children:[(0,t.jsx)(s.Z,{title:"하위 카테고리",sx:{padding:"0"}}),(null==f?void 0:f.children)&&(null==f?void 0:f.children.map((e,i)=>(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(r.Z,{label:"카테고리명",placeholder:"ex) 문의",value:null==e?void 0:e.post_category_title,defaultValue:null==e?void 0:e.post_category_title,onChange:e=>{let l=[...null==f?void 0:f.children];l[i].post_category_title=e.target.value,l[i].is_edit=!0,Z({...f,children:l})}})}))),(0,t.jsx)(o.Z,{variant:"contained",style:{height:"56px"},className:"add-children",onClick:()=>{var e;let i=[...null==f?void 0:f.children];i.push({post_category_title:"",parent_id:null===(e=g.query)||void 0===e?void 0:e.id}),Z({...f,children:i}),F()},children:"+ 추가"})]})})})}),(0,t.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,t.jsx)(d.Z,{sx:{p:3},children:(0,t.jsx)(a.Z,{spacing:1,style:{display:"flex"},children:(0,t.jsx)(o.Z,{variant:"contained",style:{height:"48px",width:"120px",marginLeft:"auto"},onClick:()=>{l({func:()=>{b()},icon:"material-symbols:edit-outline",title:"저장 하시겠습니까?"})},children:"저장"})})})})]})})]})};m.getLayout=e=>(0,t.jsx)(v.Z,{children:e}),i.default=m}},function(e){e.O(0,[571,1712,8265,7918,1907,153,135,2679,1664,8422,1868,1998,4258,3735,9474,6886,3664,6397,3033,9774,2888,179],function(){return e(e.s=94961)}),_N_E=e.O()}]);