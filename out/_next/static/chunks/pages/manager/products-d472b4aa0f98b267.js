(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2507],{13610:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager/products",function(){return i(86835)}])},86835:function(e,t,i){"use strict";i.r(t);var n=i(73849);t.default=n.default},73849:function(e,t,i){"use strict";i.r(t);var n=i(85893),l=i(93946),a=i(26447),r=i(66242),o=i(67720),d=i(67294),c=i(13033),u=i(44616),s=i(1954),g=i(11163),_=i(65631),h=i(86745),v=i(17543),p=i(72679),m=i(25853),y=i(19755),x=i.n(y),j=i(7295);let f=()=>{let{setModal:e}=(0,j.d)(),t=[{id:"id",label:"No.",action:e=>{var t;return(0,v.D9)(null!==(t=e.id)&&void 0!==t?t:"---")}},{id:"product_img",label:"상품이미지",action:e=>{var t;return e.product_img?(0,n.jsx)(p.LazyLoadImage,{src:null!==(t=e.product_img)&&void 0!==t?t:"---",style:{height:"84px",width:"auto"}}):"---"}},{id:"product_name",label:"상품명",action:e=>{var t;return null!==(t=e.product_name)&&void 0!==t?t:"---"}},{id:"category_name",label:"카테고리",action:e=>{var t;return(0,n.jsx)(n.Fragment,{children:(null==e?void 0:e.category_root.length)>0?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(_.X2,{children:null==e?void 0:e.category_root.map((t,i)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{marginRight:"0.25rem"},children:t.category_name}),i!=(null==e?void 0:e.category_root.length)-1&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{style:{marginRight:"0.25rem"},children:">"})})]}))})}):(0,n.jsx)(n.Fragment,{children:null!==(t=e.category_name)&&void 0!==t?t:"---"})})}},{id:"product_price",label:"상품가",action:e=>(0,v.D9)(e.product_price)},{id:"product_sale_price",label:"상품 할인가",action:e=>(0,v.D9)(e.product_sale_price)},{id:"status",label:"상태",action:e=>{var t;return null!==(t=e.status)&&void 0!==t?t:"---"}},{id:"created_at",label:"생성시간",action:e=>{var t;return null!==(t=e.created_at)&&void 0!==t?t:"---"}},{id:"updated_at",label:"최종수정시간",action:e=>{var t;return null!==(t=e.updated_at)&&void 0!==t?t:"---"}},{id:"edit",label:"리뷰 확인하기",action:e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(l.Z,{onClick:()=>{i.push("edit/".concat(null==e?void 0:e.id,"?type=1"))},children:(0,n.jsx)(s.JO,{icon:"ic:outline-rate-review"})})})},{id:"edit",label:"수정/삭제",action:t=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{children:(0,n.jsx)(s.JO,{icon:"material-symbols:edit-outline",onClick:()=>{i.push("edit/".concat(null==t?void 0:t.id))}})}),(0,n.jsx)(l.Z,{onClick:()=>{e({func:()=>{X(null==t?void 0:t.id)},icon:"material-symbols:delete-outline",title:"정말 삭제하시겠습니까?"})},children:(0,n.jsx)(s.JO,{icon:"material-symbols:delete-outline"})})]})}],i=(0,g.useRouter)(),[c,y]=(0,d.useState)([]),[f,b]=(0,d.useState)({}),[w,C]=(0,d.useState)({page:1,page_size:10,s_dt:"",e_dt:"",search:"",category_id:null}),[k,F]=(0,d.useState)([]),[S,Z]=(0,d.useState)([]),[E,N]=(0,d.useState)([]);(0,d.useEffect)(()=>{O()},[]);let O=async()=>{let e=await (0,h.Wr)({page:1,page_size:1e5});F(e=[{id:null,category_name:"전체",children:[]},...e=null==e?void 0:e.content]),y(t),L({...w,category_list:e})},L=async e=>{b({...f,content:void 0});let t=await (0,h.nB)(e);if(t){let l=[];l=(null==e?void 0:e.category_list)?null==e?void 0:e.category_list:k;let a=await (0,v.XG)(l);for(var i,n=0;n<t.content.length;n++)t.content[n].category_root=await z(null===(i=t.content[n])||void 0===i?void 0:i.category_id,a);b(t)}C(e)},X=async e=>{await (0,h.rq)({id:e})&&L(w)},z=async(e,t)=>{let i=[];for(var n,l=0;l<t.length;l++)if((null===(n=t[l][t[l].length-1])||void 0===n?void 0:n.id)==e){i=t[l];break}return i};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.Z,{spacing:3,children:(0,n.jsxs)(r.Z,{children:[(0,n.jsx)("div",{style:{width:"100%",padding:"0.75rem"},children:(0,n.jsx)(m.SelectCategoryComponent,{curCategories:S,categories:k,categoryChildrenList:E,onClickCategory:(e,t)=>{L({...w,category_id:null==e?void 0:e.id,page:1});let i=(0,v.XG)(k),n=[];for(var l,a,r=0;r<i.length;r++)if((null===(l=i[r][t])||void 0===l?void 0:l.id)==(null==e?void 0:e.id)){n=i[r];break}Z(n);let o=[];for(var r=0;r<n.length;r++)o.push(null===(a=n[r])||void 0===a?void 0:a.children);N(o),x()(".category-container").scrollLeft(1e5)},noneSelectText:"전체"})}),(0,n.jsx)(o.Z,{}),(0,n.jsx)(u.Z,{data:f,columns:c,searchObj:w,onChangePage:L,add_button_text:"상품 추가"})]})})})};f.getLayout=e=>(0,n.jsx)(c.Z,{children:e}),t.default=f}},function(e){e.O(0,[571,3662,1712,8265,7918,1907,153,135,2679,1664,8422,1868,1998,4258,3735,9474,6886,5054,8282,9232,2077,4294,6397,3033,2367,5853,9774,2888,179],function(){return e(e.s=13610)}),_N_E=e.O()}]);