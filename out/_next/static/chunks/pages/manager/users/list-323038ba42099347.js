(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6332],{53048:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager/users/list",function(){return i(90436)}])},90436:function(e,n,i){"use strict";i.r(n);var a=i(85893),s=i(69661),t=i(93946),l=i(64666),r=i(37645),c=i(6514),o=i(58951),d=i(50135),u=i(31425),h=i(83321),_=i(26447),p=i(66242),j=i(67294),m=i(11466),x=i(13380),g=i(1954),w=i(11163),v=i(84475),b=i(7295),f=i(49824),Z=i(17543);let k=()=>{let{setModal:e}=(0,b.d)(),n=[{id:"profile_img",label:"유저프로필",action:e=>{var n;return(0,a.jsx)(s.Z,{src:null!==(n=e.profile_img)&&void 0!==n?n:"---"})}},{id:"user_name",label:"유저아이디",action:e=>{var n;return null!==(n=e.user_name)&&void 0!==n?n:"---"}},{id:"nickname",label:"닉네임",action:e=>{var n;return null!==(n=e.nickname)&&void 0!==n?n:"---"}},{id:"phone_num",label:"휴대폰번호",action:e=>{var n;return null!==(n=e.phone_num)&&void 0!==n?n:"---"}},{id:"point",label:"보유포인트",action:e=>(0,Z.D9)(e.point)},{id:"created_at",label:"가입일",action:e=>{var n;return null!==(n=e.created_at)&&void 0!==n?n:"---"}},{id:"edit_password",label:"비밀번호 변경",action:e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(t.Z,{onClick:()=>{N({...O,changePassword:!0}),F({user_pw:"",id:null==e?void 0:e.id})},children:(0,a.jsx)(g.JO,{icon:"material-symbols:lock-outline"})})})},{id:"edit",label:"수정/삭제",action:n=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.Z,{children:(0,a.jsx)(g.JO,{icon:"material-symbols:edit-outline",onClick:()=>{i.push("edit/".concat(null==n?void 0:n.id))}})}),(0,a.jsx)(t.Z,{onClick:()=>{e({func:()=>{X(null==n?void 0:n.id)},icon:"material-symbols:delete-outline",title:"정말 삭제하시겠습니까?"})},children:(0,a.jsx)(g.JO,{icon:"material-symbols:delete-outline"})})]})}],i=(0,w.useRouter)(),[m,k]=(0,j.useState)([]),[y,C]=(0,j.useState)({}),[P,E]=(0,j.useState)({page:1,page_size:10,s_dt:"",e_dt:"",search:"",is_user:1}),[O,N]=(0,j.useState)({changePassword:!1}),[S,F]=(0,j.useState)({id:"",user_pw:""});(0,j.useEffect)(()=>{J()},[]);let J=()=>{k(n),T({...P,page:1})},T=async e=>{C({...y,content:void 0});let n=await (0,f.fp)("users","list",e);n&&C(n),E(e)},X=async e=>{await (0,f.fp)("users","delete",{id:e})&&T(P)},z=async()=>{await (0,f.fp)("users/change-pw","update",S)&&(N({...O,changePassword:!1}),v.Am.success("성공적으로 변경 되었습니다."))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l.Z,{open:O.changePassword,children:[(0,a.jsx)(r.Z,{children:"비밀번호 변경"}),(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(o.Z,{children:"새 비밀번호를 입력 후 확인을 눌러주세요."}),(0,a.jsx)(d.Z,{autoFocus:!0,fullWidth:!0,value:S.user_pw,type:"password",margin:"dense",label:"새 비밀번호",onChange:e=>{F({...S,user_pw:e.target.value})}})]}),(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(h.Z,{variant:"contained",onClick:z,children:"변경"}),(0,a.jsx)(h.Z,{color:"inherit",onClick:()=>{N({...O,changePassword:!1})},children:"취소"})]})]}),(0,a.jsx)(_.Z,{spacing:3,children:(0,a.jsx)(p.Z,{children:(0,a.jsx)(x.Z,{data:y,columns:m,searchObj:P,onChangePage:T,add_button_text:"유저 추가"})})})]})};k.getLayout=e=>(0,a.jsx)(m.Z,{children:e}),n.default=k}},function(e){e.O(0,[3662,3548,8203,9421,5422,153,135,6886,1664,7273,8422,7422,2961,7720,8282,5054,8873,7516,9456,1466,3380,9774,2888,179],function(){return e(e.s=53048)}),_N_E=e.O()}]);