(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2985],{13299:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manager/users/points",function(){return t(87174)}])},87174:function(e,n,t){"use strict";t.r(n);var a=t(85893),s=t(93946),i=t(64666),l=t(37645),r=t(6514),c=t(58951),o=t(50135),d=t(31425),u=t(83321),h=t(26447),_=t(66242),p=t(67294),g=t(1954),j=t(11163),x=t(84475),w=t(7295),m=t(11466),b=t(17543),f=t(13380),Z=t(49824);let v=()=>{let{setModal:e}=(0,w.d)(),n=[{id:"sender_name",label:"지급자아이디",action:e=>{var n;return null!==(n=e.sender_name)&&void 0!==n?n:"---"}},{id:"user_name",label:"유저아이디",action:e=>{var n;return null!==(n=e.user_name)&&void 0!==n?n:"---"}},{id:"point",label:"포인트",action:e=>"".concat(e.point>0?"+":"")+(0,b.D9)(e.point)},{id:"type",label:"타입",action:e=>(0,b.PR)(e)},{id:"created_at",label:"생성일",action:e=>{var n;return null!==(n=e.created_at)&&void 0!==n?n:"---"}},{id:"edit",label:"수정/삭제",action:n=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{children:(0,a.jsx)(g.JO,{icon:"material-symbols:edit-outline",onClick:()=>{t.push("points/edit/".concat(null==n?void 0:n.id))}})}),(0,a.jsx)(s.Z,{onClick:()=>{e({func:()=>{R(null==n?void 0:n.id)},icon:"material-symbols:delete-outline",title:"정말 삭제하시겠습니까?"})},children:(0,a.jsx)(g.JO,{icon:"material-symbols:delete-outline"})})]})}],t=(0,j.useRouter)(),[m,v]=(0,p.useState)([]),[y,P]=(0,p.useState)({}),[k,C]=(0,p.useState)({page:1,page_size:10,s_dt:"",e_dt:"",search:""}),[E,N]=(0,p.useState)({changePassword:!1}),[O,S]=(0,p.useState)({id:"",user_pw:""});(0,p.useEffect)(()=>{F()},[]);let F=()=>{v(n),J({...k,page:1})},J=async e=>{P({...y,content:void 0});let n=await (0,Z.fp)("points","list",e);n&&P(n),C(e)},R=async e=>{await (0,Z.fp)("points","delete",{id:e})&&J(k)},T=async()=>{await changePasswordUserByManager(O)&&(N({...E,changePassword:!1}),x.Am.success("성공적으로 변경 되었습니다."))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.Z,{open:E.changePassword,children:[(0,a.jsx)(l.Z,{children:"비밀번호 변경"}),(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(c.Z,{children:"새 비밀번호를 입력 후 확인을 눌러주세요."}),(0,a.jsx)(o.Z,{autoFocus:!0,fullWidth:!0,value:O.user_pw,type:"password",margin:"dense",label:"새 비밀번호",onChange:e=>{S({...O,user_pw:e.target.value})}})]}),(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(u.Z,{variant:"contained",onClick:T,children:"변경"}),(0,a.jsx)(u.Z,{color:"inherit",onClick:()=>{N({...E,changePassword:!1})},children:"취소"})]})]}),(0,a.jsx)(h.Z,{spacing:3,children:(0,a.jsx)(_.Z,{children:(0,a.jsx)(f.Z,{data:y,columns:m,searchObj:k,onChangePage:J,add_button_text:"포인트 추가"})})})]})};v.getLayout=e=>(0,a.jsx)(m.Z,{children:e}),n.default=v}},function(e){e.O(0,[3662,3548,8203,9421,5422,153,135,6886,1664,7273,8422,7422,2961,7720,8282,5054,8873,7516,9456,1466,3380,9774,2888,179],function(){return e(e.s=13299)}),_N_E=e.O()}]);